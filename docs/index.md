---
marp: true
theme: default
class: invert
paginate: true
---

# ADK + toolbox を使ってデータマネジメントやってみた話

hiracky16 (ひらき)

---

# 自己紹介

![w:300 h:300 bg right:30%](images/me.png)

- 名前: Noriaki Hiraki (X: [hiracky16](https://x.com/hiracky16))
- 所属: ファインディ株式会社 データエンジニア
- 興味: サッカー観戦⚽️、ハロプロ💃、ポッドキャスト🎙️、子育て👶
- ひとこと: 9 月に福岡に引っ越してきました🍜よろしくお願いします！（出身は熊本🐻）

---

# いきなりデモ

- 題材として企業マスタのメンテナンスを想定
- ユースケースとして以下を考える
  - 新しい企業の登録
  - 正しい法人番号の更新（法人番号の検索）
  - 重複レコードの削除
  - 所在地による営業リストの抽出

---

# データマネジメントとは？

> 企業が保有するデータを、目的の利用目的に応じていつでも活用できる状態を維持し、継続的に管理していく組織的な取り組みです。データの登録、更新、蓄積、アーカイブ、破棄など、データのライフサイクル全体を管理し、品質向上と効率的な利活用を目指します。

データマネジメントを継続的に回すためデータガバナンスがあり、現場の Ops に対してガバナンスを効かせることが非常に重要

---
# データライフサイクルにおける課題感
- 登録: 決めたルールで入力されない
- 更新: 一度入力して最新化されない
- 蓄積: 決められた場所に保存されない
- 破棄: 古く使われていないデータがそのまま残っている
- 決めたルールやオペレーションを運用するのに様々なコストが掛かってしまう
  - 実際に人手でやるのは難しい
  - AI によって簡単にできないだろうか…？🤔

---

# ADK（Agent Developement Kit） とは？


- Google 製の AI エージェント開発・展開のための柔軟なフレームワーク
- Gemini と Google エコシステムに最適化されつつ、モデルやデプロイメントに依存しない
- エージェント開発をソフトウェア開発のようにし、複雑なワークフローを容易に構築可能にする

![h:300 bg right:30%](./images/adk.png)

---
# たった 14 行でエージェントが開発できる
![h:550](./images/adk_sample.png)

---

![h:500 bg](./images/adk_mcp.png)
![h:500 bg](./images/adk_sub.png)

---

# MCP Toolbox for Database とは？

- Google 製の Database のための MCP サーバー
- MySQL や PostgreSQL, BigQuery, Looker など対応サービスが豊富
- prebuild されたツールや自前のツールを容易に開発可能

![h:350](./images/toolbox.png)

---
# YAML でツールを用意

![h:500](./images/toolyaml.png)

---
# ADK + Toolbox の連携

- Toolbox でデータのライフサイクル（登録〜破棄）を行うツールを開発し MCP サーバーとしてホスティング
  - BigQuery を操作するための SQL をあらかじめ記述したツールをいくつか用意
- ADK を使って Toolbox MCP のクライアントとして自然言語でデータを操作できるエージェントを開発
  - `adk web` コマンドでチャット UI を提供
---

## 工夫点

- YAML にデータ登録や更新用の SQL をあらかじめ定義できるためハルシネーションなどの心配がない
- ADK の実装と `adk web` を使った Web UI によって爆速で提供可能
  - `adk run` による CLI ベースでの実行も可能なため全自動でも可能
- **自然言語による操作が可能なため Ops への負担が少ない**

---

# まとめ

- 価値あるデータを蓄積するためにデータマネジメントが必要だが、ルールを決めて運用し続けるにはコストが掛かる
- ADK でエージェントを開発するのすごく簡単
- Toolbox を使って BigQuery を操作するツール開発するのもすごく簡単
- 2 つを組み合わせると爆速でデータマネジメントツールが開発でき、登録から破棄までのコストが抑えられる（かもしれない）…！

---

# ご清聴ありがとうございました！
